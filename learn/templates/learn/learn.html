{% extends 'learn/base.html' %}
<!---->
{% load learn_tags %} {% block content %}
<!---->
<div class="container mt-3">
<!-- <nav class="col-sm-3 col-md-1 bg-light sidebar "> -->
<!-- <p class="pl-3 mb-0">课程分类</p> -->
<!-- <ul class="nav flex-column nav-tabs"> -->
    <ul class="nav" >
        <li class="nav-item">
            <a class="nav-link no-radius btn btn-light {% ifequal request.get_full_path '/learn/' %} active {% endifequal %}" href="{% url 'learn' %}">所有分类</a>
        </li>
        {% get_all_categories as categories %} {% for category in categories %}
        <li class="nav-item">
            <a class="nav-link no-radius btn btn-light {% ifequal request.get_full_path category.get_absolute_url %} active {% endifequal %}" aria-selected="false" href="{{ category.get_absolute_url }}">{{ category.category_name }}</a>
        </li>
        
        {% endfor %}
    </ul>
    <hr class="mt-0">
    <br>
    
<!-- <div class="col-sm-9 col-md-11 ml-sm-auto"> -->
    <div>
    {% for each_course in courses %} {% if forloop.counter0|divisibleby:3 %}
    </div>
    <div class="row">
        <div class="col-md-4">
            <a class="card no-radius link-hover" href="{{ each_course.get_absolute_url }}">
                <img class="card-img-top">
                <div class="card-body ">
                    <h3 class="card-title">{{each_course.course_name}}</h3>
                    <div class="card-text course-brief mt-3 mb-3">{{each_course.brief}}</div>
                    
                </div>
            </a>
        </div>

        {% else %}
        <div class="col-md-4">
            <a class="card no-radius link-hover" href="{{ each_course.get_absolute_url }}">
                <img class="card-img-top">
                <div class="card-body">
                    <h3 class="card-title">{{each_course.course_name}}</h3>
                    <div class="card-text course-brief mt-3 mb-3">{{each_course.brief}}</div>

                    <!-- <p class="card-text">{% autoescape off %}{{each_course.overview|truncatewords:"1"}}{% endautoescape %}</p> -->
                </div>
            </a>
        </div>
        {% endif %} {% endfor %}
    <!---->
    </div>
<!-- </div> -->
    <script src="/static/js/text-overflow.js"></script>
</div>
{% endblock content %}